"use strict";(self.webpackChunkreact_app_marvell=self.webpackChunkreact_app_marvell||[]).push([[288],{4122:function(t,n,r){r.d(n,{Z:function(){return c}});var e=r.p+"static/media/error.42292aa12b6bc303ce99.gif",a=r(184),c=function(){return(0,a.jsx)("img",{className:"error__message",src:e,alt:"Error"})}},5420:function(t,n,r){r.r(n),r.d(n,{default:function(){return m}});var e=r(2982),a=r(885),c=r(2791),i=r(3504),s=r(4246),o=r(4304),u=r(4122),l=(r(9601),r(3394)),p=r(184),f=function(t){var n=(0,c.useState)([]),r=(0,a.Z)(n,2),f=r[0],d=r[1],m=(0,c.useState)(!1),h=(0,a.Z)(m,2),v=h[0],g=h[1],b=(0,c.useState)(5),x=(0,a.Z)(b,2),Z=x[0],_=x[1],j=(0,c.useState)(!1),w=(0,a.Z)(j,2),y=(w[0],w[1]),k=(0,o.Z)(),C=k.loading,A=k.error,E=k.getAllComics,N=function(t,n){g(!n),E(t).then(S)};(0,c.useEffect)((function(){return N(Z,!0)}),[]);var S=function(t){var n=!1;t.length<8&&(n=!0),d((function(n){return[].concat((0,e.Z)(n),(0,e.Z)(t))})),g((function(t){return!1})),_((function(t){return t+8})),y((function(t){return n}))},T=function(t){var n=t.map((function(t,n){return"https://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===t.thumbnail&&{objectFit:"unset"},(0,p.jsx)("li",{tabIndex:0,className:"comics__card",children:(0,p.jsxs)(i.rU,{to:"/comics/".concat(t.id),children:[(0,p.jsx)("img",{src:t.thumbnail,alt:t.title}),(0,p.jsxs)("h2",{children:[t.title," "]}),(0,p.jsxs)("p",{children:[t.price," "]})]})},t.id)}));return(0,p.jsx)("ul",{className:"flex__display comics__flex__display__wrap",children:n})}(f),I=A?(0,p.jsx)(u.Z,{}):null,L=C&&!v?(0,p.jsx)(l.Z,{}):null;return(0,p.jsxs)("div",{className:"comics",children:[(0,p.jsx)(s.Z,{}),I,L,(0,p.jsxs)("div",{className:"container",children:[T,(0,p.jsx)("button",{onClick:function(){return N(Z)},disabled:v,className:"btn btn__comics__load__more",children:"LOAD MORE"})]})]})},d=r(4270),m=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(d.q,{children:[(0,p.jsx)("meta",{name:"description",content:"Page with list pf our comics"}),(0,p.jsx)("title",{children:"Comics page"})]}),(0,p.jsx)(f,{})]})}},4246:function(t,n,r){r.d(n,{Z:function(){return i}});var e=r.p+"static/media/Avengers.c29e0ef078dddc7551e8.png",a=r.p+"static/media/Avengers_logo.9b944f717f2c146c4762.png",c=(r(9601),r(184));var i=function(){return(0,c.jsxs)("div",{className:"container banner__comics mt__50 flex__display_jc",children:[(0,c.jsx)("img",{src:e,alt:e}),(0,c.jsxs)("h2",{children:["New comics every week! ",(0,c.jsx)("br",{})," Stay tuned!"]}),(0,c.jsx)("img",{src:a,alt:a})]})}},4304:function(t,n,r){r.d(n,{Z:function(){return s}});var e=r(4165),a=r(5861),c=r(885),i=r(2791),s=function(){var t=function(){var t=(0,i.useState)(!1),n=(0,c.Z)(t,2),r=n[0],s=n[1],o=(0,i.useState)(null),u=(0,c.Z)(o,2),l=u[0],p=u[1],f=(0,i.useCallback)(function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){var r,a,c,i,o,u=arguments;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"GET",a=u.length>2&&void 0!==u[2]?u[2]:null,c=u.length>3&&void 0!==u[3]?u[3]:{"Content-Type":"application/json"},s(!0),t.prev=4,t.next=7,fetch(n,{method:r,body:a,headers:c});case 7:if((i=t.sent).ok){t.next=10;break}throw new Error("Could not fetch ".concat(n,", status: ").concat(i.status));case 10:return t.next=12,i.json();case 12:return o=t.sent,s(!1),t.abrupt("return",o);case 17:throw t.prev=17,t.t0=t.catch(4),s(!1),p(t.t0.message),t.t0;case 22:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(n){return t.apply(this,arguments)}}(),[]);return{loading:r,error:l,request:f,clearError:(0,i.useCallback)((function(){return p(null)}),[]),setLoading:s}}(),n=t.loading,r=t.request,s=t.error,o=t.clearError,u="https://gateway.marvel.com:443/v1/public/",l="apikey=b728d6eca38d279d414e4429c17a0bc1",p=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(){var n,a,c=arguments;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:5,t.next=3,r("".concat(u,"comics?limit=8&offset=").concat(n,"&").concat(l));case 3:return a=t.sent,t.abrupt("return",a.data.results.map(d));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){var a;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r("".concat(u,"comics/").concat(n,"?").concat(l));case 2:return a=t.sent,t.abrupt("return",d(a.data.results[0]));case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),d=function(t){return{id:t.id,title:t.title,description:t.description||"There is no description",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,price:t.prices[0].price?"".concat(t.prices[0].price,"$"):"NOT AVAILABLE",language:t.textObjects.language||"en-us",pages:t.pageCount?"".concat(t.pageCount," pages"):"No information about the number of pages"}},m=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(){var n,a,c=arguments;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:211,t.next=3,r("".concat(u,"characters?limit=9&offset=").concat(n,"&").concat(l));case 3:return a=t.sent,t.abrupt("return",a.data.results.map(g));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){var a;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r("".concat(u,"characters/").concat(n,"?").concat(l));case 2:return a=t.sent,t.abrupt("return",g(a.data.results[0]));case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,e.Z)().mark((function t(n){var a;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r("".concat(u,"characters?name=").concat(n,"&").concat(l));case 2:return a=t.sent,t.abrupt("return",a.data.results.map(g));case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),g=function(t){return{id:t.id,name:t.name,description:t.description?"".concat(t.description.slice(0,210),"..."):"There is no description for this character",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items}};return{loading:n,error:s,getAllCharacters:m,getCharacter:h,clearError:o,getAllComics:p,getComic:f,getCharacterPage:v}}},2982:function(t,n,r){r.d(n,{Z:function(){return c}});var e=r(907);var a=r(181);function c(t){return function(t){if(Array.isArray(t))return(0,e.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,a.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=288.b5dd80bd.chunk.js.map